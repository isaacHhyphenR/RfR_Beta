is_rhunnic_tag = {
	OR = {
		original_tag = LGA
		original_tag = MED
		original_tag = SAG
		original_tag = SRB
		original_tag = ULG
	}
}

is_rhovanion_tag = {
	custom_trigger_tooltip = {
		tooltip = is_rhovanion_tag
		OR = {
			original_tag = YST
			original_tag = SUN
			original_tag = RIN
			original_tag = RUS
			original_tag = HEH
			original_tag = SEK
		}
	}
}

can_celduin_trade = {
	market_capital = yes
}
allowed_celduin_trade = {
	OR = {
		original_tag = ERE
		original_tag = WOD
		original_tag = DAL
		original_tag = DOR
		is_rhovanion_tag = yes
		is_rhunnic_tag = yes
	}
}
market_capital = {
	capital_scope = { market > 0 }
}

calculate_trade_convoy_cost = { #Call where THIS is buyer/seller and ROOT is the other
	set_temp_variable = { root_capital = ROOT.capital }
	set_temp_variable = { route_convoy_cost = root_capital:node_index }
	subtract_from_temp_variable = { route_convoy_cost = capital:node_index }
	if = { #de-negative it
		limit = { check_variable = { route_convoy_cost < 0 } }
		multiply_temp_variable = { route_convoy_cost = -1 }
	}
	always = yes
}
calculate_trade_convoy_cost_negative = { #Call where THIS is buyer/seller and ROOT is the other
	calculate_trade_convoy_cost = yes
	multiply_temp_variable = { route_convoy_cost = -1 }
}

great_merchants_focus_trigger = {
	NOT = { has_country_flag = elected_winelord }
}
winelords_focus_trigger = {
	NOT = { has_country_flag = elected_great_merchant }
}

DOR_can_interact_with_guilds = {
}

koldana_aptitude_mission_cancel = {
	NOT = { 
		has_country_leader = {
			character = DOR_hawin_koldana
			ruling_only = yes
		}
	}
}
has_20_core_infrastructure = {
	set_temp_variable = { core_inf = 0 }
	custom_trigger_tooltip = {
		tooltip = has_20_core_infrastructure
		all_core_state = {
			if = {
				limit = { is_controlled_by = ROOT }
				add_to_temp_variable = { core_inf = building_level@infrastructure }
			}
		}
		check_variable = { core_inf > 19 }
	}
}
has_100_convoys = {
	has_equipment = {
		convoy_1 > 99
	}
}


can_trade_with_ROOT = {
	NOT = {
		OR = {
			has_war_with = ROOT
			is_embargoing = ROOT
			is_embargoed_by = ROOT
		}
	}
}
MOR_get_AI_buff = {
	MOR = { is_ai = yes }
	GON = { is_ai = no }
}

ISN_free_PP_trigger = { #don't buy advisors if you need the PP for blood oath
	date > 3018.1.1
}

valid_light_the_beacons_target = {
	country_exists = this
	NOT = { has_war_with = ROOT }
	NOT = { is_subject = yes }
}

reunited_kingdom_focus_triggers = { #triggers to limit when GON can take reunited kigndom focuses
	has_line_of_kings = yes
	custom_trigger_tooltip = {
		tooltip = no_leader_despair_tooltip
		leader_has_any_despair = no
	}
}

is_saurons_ring_point = { #returns true if the state counts as sauron's ring point
	controller = {
		OR = {
			has_government = conquest
			has_government = melkorite
			is_subject_of = MOR
			is_in_faction_with = MOR
		}
		NOT = {
			has_war_with = MOR
		}
	}
}

saruman_defeated_trigger = {
	OR = {
		NOT = { country_exists = ISN }
		ISN = { has_capitulated = yes }
		NOT = { ISN = { controls_state = 68 } } #Nan curunir
		NOT = { ISN = { has_country_leader = { character = ISN_saruman } } }
		ISN = { is_subject_of = ROOT }
	}
}

sauron_defeated_trigger = {
	OR = {
		NOT = { country_exists = MOR }
		MOR = { has_capitulated = yes }
		NOT = { MOR = { has_country_leader = { character = MOR_sauron } } }
	}
}

has_autonomy_DLC = { #checks whether you have any of the DLCs that enable autonomy system
	OR = {
		has_dlc = "Together for Victory"
		has_dlc = "Waking the Tiger"
	}
}

has_any_despair = { #checks whether character has any despair
	custom_trigger_tooltip = {
		tooltip = ruler_has_despair_tooltip
		OR = {
			has_trait = despair_1
			has_trait = despair_2
			has_trait = despair_3
			has_trait = despair_4
			has_trait = despair_5
			has_trait = despair_6
			has_trait = despair_7
			has_trait = despair_8
			has_trait = despair_9
			has_trait = despair_10
		}
	}
}

leader_has_any_despair = { #checks whether the country leader has any despair
	custom_trigger_tooltip = {
		tooltip = has_any_despair_tooltip
		OR = {
			has_country_leader_with_trait = despair_1
			has_country_leader_with_trait = despair_2
			has_country_leader_with_trait = despair_3
			has_country_leader_with_trait = despair_4
			has_country_leader_with_trait = despair_5
			has_country_leader_with_trait = despair_6
			has_country_leader_with_trait = despair_7
			has_country_leader_with_trait = despair_8
			has_country_leader_with_trait = despair_9
			has_country_leader_with_trait = despair_10
		}
	}
}

has_significant_despair = { #checks whether character has at least 5 levels of despair
	custom_trigger_tooltip = {
		tooltip = has_significant_despar_tooltip
		OR = {
			has_trait = despair_5
			has_trait = despair_6
			has_trait = despair_7
			has_trait = despair_8
			has_trait = despair_9
			has_trait = despair_10
		}
	}
}

has_line_of_kings = {
	custom_trigger_tooltip = {
		tooltip = has_line_of_kings_trigger_tooltip
		has_country_leader_with_trait = king_of_the_west
	}
}

can_raid_the_herds_and_studs_of_rohan = {
	120 = { controls_or_subject_of = yes }
	OR = {
		custom_trigger_tooltip = {
			tooltip = norworld_border_forts_trigger_tooltip
			NOT = {
				75 = {
					any_province_building_level = {
						province = {
							id = 3546
						}
						building = bunker
						level > 1
					}
					any_province_building_level = {
						province = {
							id = 2411
						}
						building = bunker
						level > 1
					}
					any_province_building_level = {
						province = {
							id = 6638
						}
						building = bunker
						level > 1
					}
					any_province_building_level = {
						province = {
							id = 2103
						}
						building = bunker
						level > 1
					}
				}
			}
		}
		custom_trigger_tooltip = {
			tooltip = fortalf_border_forts_trigger_tooltip
			NOT = {
				207 = {
					any_province_building_level = {
						province = {
							id = 1126
						}
						building = bunker
						level > 1
					}
					any_province_building_level = {
						province = {
							id = 3887
						}
						building = bunker
						level > 1
					}
					any_province_building_level = {
						province = {
							id = 6754
						}
						building = bunker
						level > 1
					}
				}
			}
		}
	}
}

#####################################Changing ROOT to PREV in vanilla scripted triggers
can_PREV_release_as_puppet = {
	NOT = { country_exists = THIS }
	any_core_state = {
		is_owned_by = PREV.PREV
		is_controlled_by = PREV.PREV
	}
}

controls_or_subject_of_PREV = {
	OR = {
		controller = { tag = PREV }
		controller = { is_subject_of = PREV }
	}
}
owns_or_subject_of_PREV = {
	OR = {
		owner = { tag = PREV }
		owner = { is_subject_of = PREV }
	}
}

ISN_manpower_trigger = {
	OR = {
		NOT = { original_tag = ISN }
		surrender_progress > 0.1
		AND = {
			has_war = yes
			enemies_strength_ratio > 1
		}
	}
}

PREV_can_puppet_THIS = {
	country_exists = THIS
	is_subject = no
	NOT = { has_war_with = PREV }
}
is_being_trained = {
	custom_trigger_tooltip = { tooltip = not_being_trained_tooltip has_character_flag = being_trained_flag }
}


can_fuel_the_fires = {
	68 = { #nan curunir
		has_resources_amount = {
			resource = wood
			amount > 3
		}
	}
}

can_harvest_fangorn = {
	74 = { #Fangorn
		has_resources_amount = {
			resource = wood
			amount > 4
		}
	}
	any_controlled_state = { #Must have any state theat neighbours fangorn
		any_neighbor_state = {
			state = 74
		}
	}
	OR = { #must be evil
		has_government = opportunism
		has_government = conquest
		has_government = melkorite
	}
}

is_sarumans_pupil = { ##call in a character to check if they have any of the 'saruman's pupil' traits
	custom_trigger_tooltip = {
		tooltip = is_sarumans_pupil_tooltip
		OR = {
			has_trait = sarumans_pupil_isolationism_zeroth has_trait = sarumans_pupil_isolationism_first has_trait = sarumans_pupil_isolationism_second has_trait = sarumans_pupil_isolationism_third has_trait = sarumans_pupil_isolationism_fourth has_trait = sarumans_pupil_isolationism_fifth has_trait = sarumans_pupil_isolationism_sixth has_trait = sarumans_pupil_isolationism_seventh has_trait = sarumans_pupil_isolationism_eighth has_trait = sarumans_pupil_isolationism_ninth has_trait = sarumans_pupil_isolationism_tenth
			has_trait = sarumans_pupil_freedom_zeroth has_trait = sarumans_pupil_freedom_first has_trait = sarumans_pupil_freedom_second has_trait = sarumans_pupil_freedom_third has_trait = sarumans_pupil_freedom_fourth has_trait = sarumans_pupil_freedom_fifth has_trait = sarumans_pupil_freedom_sixth has_trait = sarumans_pupil_freedom_seventh has_trait = sarumans_pupil_freedom_eighth has_trait = sarumans_pupil_freedom_ninth has_trait = sarumans_pupil_freedom_tenth
			has_trait = sarumans_pupil_opportunism_zeroth has_trait = sarumans_pupil_opportunism_first has_trait = sarumans_pupil_opportunism_second has_trait = sarumans_pupil_opportunism_third has_trait = sarumans_pupil_opportunism_fourth has_trait = sarumans_pupil_opportunism_fifth has_trait = sarumans_pupil_opportunism_sixth has_trait = sarumans_pupil_opportunism_seventh has_trait = sarumans_pupil_opportunism_eighth has_trait = sarumans_pupil_opportunism_ninth has_trait = sarumans_pupil_opportunism_tenth
			has_trait = sarumans_pupil_conquest_zeroth has_trait = sarumans_pupil_conquest_first has_trait = sarumans_pupil_conquest_second has_trait = sarumans_pupil_conquest_third has_trait = sarumans_pupil_conquest_fourth has_trait = sarumans_pupil_conquest_fifth has_trait = sarumans_pupil_conquest_sixth has_trait = sarumans_pupil_conquest_seventh has_trait = sarumans_pupil_conquest_eighth has_trait = sarumans_pupil_conquest_ninth has_trait = sarumans_pupil_conquest_tenth
			has_trait = sarumans_pupil_melkorite_zeroth has_trait = sarumans_pupil_melkorite_first has_trait = sarumans_pupil_melkorite_second has_trait = sarumans_pupil_melkorite_third has_trait = sarumans_pupil_melkorite_fourth has_trait = sarumans_pupil_melkorite_fifth has_trait = sarumans_pupil_melkorite_sixth has_trait = sarumans_pupil_melkorite_seventh has_trait = sarumans_pupil_melkorite_eighth has_trait = sarumans_pupil_melkorite_ninth has_trait = sarumans_pupil_melkorite_tenth
		}
	}
}

owns_or_subject_of_PREV = {
	custom_trigger_tooltip = {
		tooltip = owns_or_subject_of_tt
		owner = {
			OR = {
				tag = PREV
				is_subject_of = PREV
			}
		}
	}
}

is_arnor_tag = {
	OR = {
		original_tag = ART
		original_tag = CAR
		original_tag = RDR
	}
}

has_unique_designers = {
	OR = {
		original_tag = ROH
		original_tag = GON
		original_tag = ISN
		original_tag = MOR
		is_greater_enedwaith_tag = yes
		original_tag = DOR
	}
}

is_gondor_fief_tag = {
	OR = {
		original_tag = ANF
		original_tag = PNG
	}
}

ROH_get_ai_buff = {
	is_ai = yes
}

has_country_info_event = {
	OR = {
		original_tag = GON
		original_tag = ISN
		original_tag = MOR
		original_tag = ROH
		is_greater_enedwaith_tag_no_tooltip = yes
	}
}


